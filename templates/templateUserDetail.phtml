<?php require 'templateHeader.phtml'; ?>

<div class="container my-5">
  <h2 class="text-center mb-4">Detalles del Usuario</h2>

  <?php if (!empty($user)): ?>
    <div class="card shadow-sm border-0 mx-auto" style="max-width: 500px;">
      <div class="card-body text-center">
        <h4 class="card-title text-primary fw-bold"><?= htmlspecialchars($user->name) ?></h4>
        <p class="card-text"><strong>Email:</strong> <?= htmlspecialchars($user->email) ?></p>
        <p class="card-text"><strong>Descripción:</strong> <?= htmlspecialchars($user->description) ?></p>
        <p class="card-text"><strong>Edad:</strong> <?= htmlspecialchars($user->age) ?></p>
      </div>

      <div class="card-footer d-flex justify-content-between">
        <a href="<?= BASE_URL ?>showUsers" class="btn btn-secondary">Volver al listado</a>
        <a href="<?= BASE_URL ?>updateUser/<?= $user->id_user ?>" class="btn btn-warning">Editar</a>
        <a href="<?= BASE_URL ?>deleteUser/<?= $user->id_user ?>" class="btn btn-danger">Eliminar</a>
      </div>
    </div>

    <!-- Listado de recetas del usuario -->
    <div class="mt-5">
      <h3 class="text-center mb-3">Recetas de <?= htmlspecialchars($user->name) ?></h3>

      <?php if (!empty($recipes)): ?>
        <ul class="list-group mx-auto" style="max-width: 600px;">
          <?php foreach ($recipes as $recipe): ?>
            <li class="list-group-item d-flex justify-content-between align-items-center">
              <span>
                <strong><?= htmlspecialchars($recipe->title) ?></strong>
                <small class="text-muted">(<?= htmlspecialchars($recipe->date) ?>)</small>
              </span>
              <a href="<?= BASE_URL ?>showRecipeById/<?= $recipe->id_recipe ?>" class="btn btn-sm btn-outline-primary">Ver</a>
            </li>
          <?php endforeach; ?>
        </ul>
      <?php else: ?>
        <p class="text-center text-muted mt-3">Este usuario no tiene recetas cargadas.</p>
      <?php endif; ?>
    </div>
  <?php else: ?>
    <div class="alert alert-warning text-center mt-5">
      No se encontró el usuario solicitado.
    </div>
  <?php endif; ?>
</div>

<?php require 'templateFooter.phtml'; ?>

